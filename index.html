<html>
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<!--   <script>
    if (!'WebSocket' in window){
      alert("WebSockets are not supported.")
    }

    var connection = new WebSocket('ws://'+ location.host + '/socketz');
    
    // alert(connection.readyState)

    connection.onopen = function(){
      /*Send a small message to the console once the connection is established */
      var message = {
        'name': 'bill murray',
        'comment': 'No one will ever believe you'
      };
      connection.send(JSON.stringify(message));

      alert('Connection open!');
    }

    connection.onclose = function(){
      alert('Connection closed');
    }

    connection.onerror = function(error){
      alert('Error detected: ' + error);
    }

    connection.onmessage = function(e){
      var server_message = e.data;
      alert('Server says: ' + server_message);
      }
  </script> -->
</html>

<body>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2">
        <h1> Mini Chatter </h1>
        <h3> Conversation </h3>
        <div id="messages" class="row-fluid">
        </div>
        <div class="row-fluid">
          <form role="form" id="new-message">
            <div class="form-group">
              <label for="content">Type message</label>
              <input type="content" class="form-control" id="new-message-content" placeholder="Enter message">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
  <style>
    #messages{
      height: 300px;
      overflow: auto; scroll;
      background-color: grey;
      padding-left: 10px;
      margin-bottom: 10px;
      -webkit-border-radius: 10px;
      -moz-border-radius: 10px;
      border-radius: 10px;
    }
    .submited-message{
      padding-left: 10px;
    }

  </style>
  <script>
    document.forms["new-message"].onsubmit = function(){
        var content = document.getElementById("new-message-content");
        // alert(content.value);
        

        var newContent = document.createElement('h4');
        var newLabel = document.createElement('span');
        newLabel.className = "label label-primary";
        newLabel.innerHTML = "Damir";

        var newCont = document.createElement('span');
        newCont.className = "submited-message"
        newCont.innerHTML = content.value

        newContent.appendChild(newLabel)
        newContent.appendChild(newCont)

        content.value ='';

        // document.getElementById("messages").appendChild(newLabel);
        document.getElementById("messages").appendChild(newContent);
        var objDiv = document.getElementById("messages");
        objDiv.scrollTop = objDiv.scrollHeight;
        return false;
    }
  </script>




